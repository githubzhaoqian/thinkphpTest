# 数据库设计

## system表
*系统总设置*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:| :-:|
| id|int(11)|id|
|sitename|char(60)|站点名称|
|email|char(50)|管理员邮箱|
|sitekey|char(255)|网站关键字|
|siteintro|char(255)|网站简介|
|listnum|int(11)|列表页显示数量|
|pltime|int(11)|评论时间间隔单位：秒|
|searchtime|int(11)|搜索时间间隔单位：秒|
|loginkeyOk|tinyint(1)|是否开启会员登陆验证码1为开启,0为关闭|
|loginnum|smallint(6)|后台登录次数限制|
|logintime|int(11)|重新登录时间间隔单位：分钟|
|addnewsOk|tinyint(1)|是否开启投稿功能0为开启，1为关闭|
|registerOk|tinyint(1)|是否开启会员注册0为开启，1为关闭|
|smalltextlen|smallint(6)|信息简介截取字数|
|keybgcolor|char(8)|验证码背景颜色|
|keyfontcolor|char(8)|验证码文字颜色|
|keydistcolor|char(8)|验证码干扰颜色|
|plOk|tinyint(1)|是否开启评论1为开启，0为关闭|
|plkeyOk|tinyint(1)|是否开启评论验证码1为开启，0为关闭|
|plNum|tinyint(4)|评论列表每页显示数量|
|gbOk|tinyint(1)|是否开启留言1为开启，0为关闭|
|gbkeyOk|tinyint(1)|是否开启留言验证码1为开启，0为关闭|
|gbNum|tinyint(4)|留言列表每页显示数量|
|theme|char(50)|模板|
|logo|char(255)|logo|

## system_mete
*系统扩展表 会增加扩展的添加和卸载*

**结构**

七牛 保利 短信 邮箱

| 字段名| 数据类型|备注|
|:-:|:-:| :-:|
|id|int(11)|自增唯一ID|
|option_name|char(15)|键名|
|option_value|char(255)|键值|

## theme
*系统扩展表 会增加扩展的添加和卸载*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:| :-:|
|id|int(11)|自增唯一ID|
|themeName|char(50)|模板名|
|themeSetting|longblob|模板设置|

## industry
*行业表*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:|:-:|
|id|int(11)|自增唯一ID|
|industryName|char(80)|行业名|

## site
*系站点设置表*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:|:-:|
|id|int(11)|自增唯一ID|
|siteCode|char(15)|站点识别码|
|domain|char(50)|域名|
|theme|char(50)|模板|
|email|char(50)|管理员邮箱|
|sitekey|char(255)|关键字|
|siteintro|char(255)|简介|
|adminCenter|tinyint(1)|是否为中心站|
|siteLogo|char(255)|站点logo|
|industryId|char(50)|行业|

## site_meta
*系站点设置扩展表*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:|:-:|
|id|int(11)|自增唯一ID|
|siteCode|char(15)|站点识别码|
|option_name|char(15)|键名|
|option_value|char(255)|键值|
* * *
## user
*用户表*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:|:-:|
|id|int(11)|自增唯一ID|
|siteCode|char(15)|站点识别码，这里作为注册来源|
|userName|char(30)|用户名|
|passWord|char(32)|用户密码|
|niceName|char(50)|昵称|
|status|tinyint(1)|状态|
|email|char(180)|邮箱|
|emailStatus|tinyint(1)|邮箱状态|
|mobile|char(32)|手机|
|mobileStatus|tinyint(1)|邮箱状态|
|avatar|char(255)|头像|
|regdate|int(10)|注册时间|
|newPlNum|smallint(6)unsigned|新评论数量|
|newGbNum|smallint(6) unsigned|新留言数目|
|roles|varchar(255)|用户角色|
|point|int(11)|积分|
|coin|int(11)|金币|
|money|int(11)|钱|
|lockTime|int(10)|帐号锁定期限|
|passErrorNum|tinyint(1)|帐号密码错误次数|

user_meta
user_base_field表
user_detailed_field表
user_education_field表

##action_log
*操作日志*

**结构**

| 字段名| 数据类型|备注|
|:-:|:-:|:-:|
|id|int(11) unsigned|记录id|
|uid|int(11) unsigned|用户ID|
|classType|char(50)|操作类类型|
|class|char(50)|操作类|
|fucntion|char(50)|操作方法|
|data|char(50)|数据|
|doing|char(255)|操作内容|
|time|int(10)|操作时间|
|ip|varchar(20)|IP|
|siteCode|char(15)|站点识别码|



